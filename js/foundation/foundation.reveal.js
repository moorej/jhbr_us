(function(c,b,a,d){Foundation.libs.reveal={name:"reveal",version:"4.3.2",locked:false,settings:{animation:"fadeAndPop",animationSpeed:250,closeOnBackgroundClick:true,closeOnEsc:true,dismissModalClass:"close-reveal-modal",bgClass:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:c(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(e,f,g){Foundation.inherit(this,"data_options delay");if(typeof f==="object"){c.extend(true,this.settings,f)}else{if(typeof g!=="undefined"){c.extend(true,this.settings,g)}}if(typeof f!=="string"){this.events();return this.settings.init}else{return this[f].call(this,g)}},events:function(){var e=this;c(this.scope).off(".fndtn.reveal").on("click.fndtn.reveal","[data-reveal-id]",function(i){i.preventDefault();if(!e.locked){var g=c(this),h=g.data("reveal-ajax");e.locked=true;if(typeof h==="undefined"){e.open.call(e,g)}else{var f=h===true?g.attr("href"):h;e.open.call(e,g,{url:f})}}}).on("click.fndtn.reveal touchend",this.close_targets(),function(f){f.preventDefault();if(!e.locked){var g=c.extend({},e.settings,e.data_options(c(".reveal-modal.open"))),h=c(f.target)[0]===c("."+g.bgClass)[0];if(h&&!g.closeOnBackgroundClick){return}e.locked=true;e.close.call(e,h?c(".reveal-modal.open"):c(this).closest(".reveal-modal"))}});if(c(this.scope).hasClass("reveal-modal")){c(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video)}else{c(this.scope).on("open.fndtn.reveal",".reveal-modal",this.settings.open).on("opened.fndtn.reveal",".reveal-modal",this.settings.opened).on("opened.fndtn.reveal",".reveal-modal",this.open_video).on("close.fndtn.reveal",".reveal-modal",this.settings.close).on("closed.fndtn.reveal",".reveal-modal",this.settings.closed).on("closed.fndtn.reveal",".reveal-modal",this.close_video)}c("body").bind("keyup.reveal",function(f){var g=c(".reveal-modal.open"),h=c.extend({},e.settings,e.data_options(g));if(f.which===27&&h.closeOnEsc){g.foundation("reveal","close")}});return true},open:function(e,j){if(e){if(typeof e.selector!=="undefined"){var i=c("#"+e.data("reveal-id"))}else{var i=c(this.scope);j=e}}else{var i=c(this.scope)}if(!i.hasClass("open")){var h=c(".reveal-modal.open");if(typeof i.data("css-top")==="undefined"){i.data("css-top",parseInt(i.css("top"),10)).data("offset",this.cache_offset(i))}i.trigger("open");if(h.length<1){this.toggle_bg()}if(typeof j==="undefined"||!j.url){this.hide(h,this.settings.css.close);this.show(i,this.settings.css.open)}else{var g=this,f=typeof j.success!=="undefined"?j.success:null;c.extend(j,{success:function(k,l,m){if(c.isFunction(f)){f(k,l,m)}i.html(k);c(i).foundation("section","reflow");g.hide(h,g.settings.css.close);g.show(i,g.settings.css.open)}});c.ajax(j)}}},close:function(f){var f=f&&f.length?f:c(this.scope),e=c(".reveal-modal.open");if(e.length>0){this.locked=true;f.trigger("close");this.toggle_bg();this.hide(e,this.settings.css.close)}},close_targets:function(){var e="."+this.settings.dismissModalClass;if(this.settings.closeOnBackgroundClick){return e+", ."+this.settings.bgClass}return e},toggle_bg:function(){if(c("."+this.settings.bgClass).length===0){this.settings.bg=c("<div />",{"class":this.settings.bgClass}).appendTo("body")}if(this.settings.bg.filter(":visible").length>0){this.hide(this.settings.bg)}else{this.show(this.settings.bg)}},show:function(g,f){if(f){if(g.parent("body").length===0){var h=g.wrap('<div style="display: none;" />').parent();g.on("closed.fndtn.reveal.wrapped",function(){g.detach().appendTo(h);g.unwrap().unbind("closed.fndtn.reveal.wrapped")});g.detach().appendTo("body")}if(/pop/i.test(this.settings.animation)){f.top=c(b).scrollTop()-g.data("offset")+"px";var e={top:c(b).scrollTop()+g.data("css-top")+"px",opacity:1};return this.delay(function(){return g.css(f).animate(e,this.settings.animationSpeed,"linear",function(){this.locked=false;g.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var e={opacity:1};return this.delay(function(){return g.css(f).animate(e,this.settings.animationSpeed,"linear",function(){this.locked=false;g.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}return g.css(f).show().css({opacity:1}).addClass("open").trigger("opened")}if(/fade/i.test(this.settings.animation)){return g.fadeIn(this.settings.animationSpeed/2)}return g.show()},hide:function(f,e){if(e){if(/pop/i.test(this.settings.animation)){var g={top:-c(b).scrollTop()-f.data("offset")+"px",opacity:0};return this.delay(function(){return f.animate(g,this.settings.animationSpeed,"linear",function(){this.locked=false;f.css(e).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var g={opacity:0};return this.delay(function(){return f.animate(g,this.settings.animationSpeed,"linear",function(){this.locked=false;f.css(e).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}return f.hide().css(e).removeClass("open").trigger("closed")}if(/fade/i.test(this.settings.animation)){return f.fadeOut(this.settings.animationSpeed/2)}return f.hide()},close_video:function(f){var e=c(this).find(".flex-video"),g=e.find("iframe");if(g.length>0){g.attr("data-src",g[0].src);g.attr("src","about:blank");e.hide()}},open_video:function(e){var i=c(this).find(".flex-video"),h=i.find("iframe");if(h.length>0){var g=h.attr("data-src");if(typeof g==="string"){h[0].src=h.attr("data-src")}else{var f=h[0].src;h[0].src=d;h[0].src=f}i.show()}},cache_offset:function(e){var f=e.show().height()+parseInt(e.css("top"),10);e.hide();return f},off:function(){c(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(Foundation.zj,this,this.document));